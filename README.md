webbench 源码阅读笔记
-------------

webbench V 1.5 版本源码阅读注释笔记， 在原来源码的基础上进行中文注释， 提出自己的见解，记录笔记

##流程
从 main 函数入口开始
1. 解释命令行参数<br />
2. 初始化结构体，变量等<br /> 
3. 组织 HTTP 请求数据包,  build_request() <br />
4. 进行 HTTP 请求, 执行benchcore(), 更改全局 speed, fail, bytes 变量, 每个子进程执行完就把信息写入管道 mypipe[1]   <br />
5. 回到父进程， 循环读取管理的队列 mypipe[0], 组织要展示的全局信息 speed, fail, bytes   <br />
6. 打印全局信息


##架构

              main()
                |
                |
     ------------------------
     |          |           |
     |          |           |
     A          B           C (指定3个客户端，生成3个子进程，进程执行 build_request()组织HTTP包, benchcore()进行HTTP请求，再回到主函数把请求的状态信息写入管道) 
     |          |           |
     |          |           |
 写入管道     写入管道     写入管道 
    ------------------------ 
                |
                |
          读取管道信息,呈现    
          
          
##程序算法特点

根据 client 的数值循环生成子进程， for处理子进程逻辑，执行HTTP请求后，回到主函数把写信写进管道， 再统一做管道信息读取呈现

细节方面就是要注意 进行 HTTP请求的时候， 请求的状态检查， goto逻辑重新请求等处理 
    
    
